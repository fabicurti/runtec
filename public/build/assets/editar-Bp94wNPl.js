let i;async function c(){const o=document.createElement("link");o.rel="stylesheet",o.href="https://cdn.quilljs.com/1.3.6/quill.snow.css",document.head.appendChild(o),await new Promise((r,e)=>{const t=document.createElement("script");t.src="https://cdn.quilljs.com/1.3.6/quill.min.js",t.onload=r,t.onerror=e,document.head.appendChild(t)});const a=document.getElementById("editor-container").dataset.conteudo;i=new Quill("#editor-container",{theme:"snow",modules:{toolbar:[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["link","image"]]}}),i.root.innerHTML=a}document.getElementById("form-editar").addEventListener("submit",async function(o){o.preventDefault();const n=document.getElementById("noticia-id").value,a=document.getElementById("titulo").value,r=i.root.innerHTML;try{const e=await fetch(`/noticias/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({titulo:a,conteudo:r})});if(e.ok)alert("Notícia atualizada com sucesso!"),carregarSecao("noticia",n);else{const t=await e.text();console.error("Erro ao atualizar:",t),alert("Erro ao atualizar notícia.")}}catch(e){console.error("Falha na requisição:",e),alert("Erro de conexão.")}});export{c as default};
