function p(){const o=document.getElementById("btn-filtrar");o&&o.addEventListener("click",()=>{i(1)}),i(1)}function i(o=1){const a=document.getElementById("filtro-titulo").value,s=document.getElementById("filtro-mes").value,n=document.getElementById("filtro-ano").value,c=document.getElementById("noticias-loader"),r=document.getElementById("noticias-table"),d=document.getElementById("noticias-body");c.textContent="🔄 Carregando notícias...",r.classList.add("hidden"),d.innerHTML="";const t=new URLSearchParams({page:o,titulo:a,mes:s,ano:n});fetch(`/noticias/listar?${t.toString()}`).then(e=>e.json()).then(e=>{if(e.data.length===0){c.textContent="⚠️ Nenhuma notícia encontrada.";return}e.data.forEach(l=>{const m=document.createElement("tr");m.innerHTML=`
                    <td class="px-4 py-2">${l.id}</td>
                    <td class="px-4 py-2">${l.titulo}</td>
                    <td class="px-4 py-2">
                        <button class="text-blue-600 hover:underline" onclick="carregarSecao('noticia', ${l.id})">Ver</button>
                    </td>
                `,d.appendChild(m)}),c.textContent="",r.classList.remove("hidden"),u(e)})}function u(o){const a=document.getElementById("paginacao");if(!a)return;a.innerHTML="";const s=o.last_page,n=o.current_page,c=5,r=Math.max(1,n-c),d=Math.min(s,n+c);if(n>1){const t=document.createElement("button");t.textContent="←",t.className="px-3 py-1 mx-1 btn btn-outline-secondary hover:btn-secondary",t.onclick=()=>i(n-1),a.appendChild(t)}for(let t=r;t<=d;t++){const e=document.createElement("button");e.textContent=t,e.className="px-3 py-1 mx-1 btn btn-outline-secondary",t===n?e.classList.add("btn-dark","text-white"):(e.classList.add("hover:btn-secondary"),e.onclick=()=>i(t)),a.appendChild(e)}if(n<s){const t=document.createElement("button");t.textContent="→",t.className="px-3 py-1 mx-1 btn btn-outline-secondary hover:btn-secondary",t.onclick=()=>i(n+1),a.appendChild(t)}}export{p as default};
